<div class="cadastro-container">
  <h2>Cadastro de Pessoa</h2>
  <form (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nome">ğŸ‘¤ Nome</label>
      <input
        type="text"
        id="nome"
        class="form-control"
        [(ngModel)]="pessoa.nome"
        name="nome"
        required
        placeholder="Digite seu nome"
        #nomeInput="ngModel">

      <div *ngIf="nomeInput.invalid && nomeInput.touched" class="error-message">
        Campo obrigatÃ³rio, insira o nome!
      </div>
    </div>

    <div class="form-group">
      <label for="cep">ğŸ“ CEP</label>
      <input
      type="text"
      id="cep"
      class="form-control"
      [(ngModel)]="pessoa.cep"
      name="cep"
      (keyup)="preencherEnderecoPorCep()"
      placeholder="Digite seu CEP"
      minlength="8"
      maxlength="8">
      <div *ngIf="carregando" class="loading-spinner">
        <div class="spinner-border" role="status">
          <span class="sr-only">Carregando...</span>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="endereco">ğŸ  EndereÃ§o</label>
      <input
      type="text"
      id="endereco"
      class="form-control"
      [(ngModel)]="pessoa.endereco"
      name="endereco"
      placeholder="EndereÃ§o automÃ¡tico pelo CEP">
    </div>

    <div class="form-row">
      <div class="form-group half-width">
        <label for="cidade">ğŸ™ï¸ Cidade</label>
        <input
        type="text"
        id="cidade"
        class="form-control"
        [(ngModel)]="pessoa.cidade"
        name="cidade"
        placeholder="Cidade">
      </div>
      <div class="form-group half-width">
        <label for="uf">ğŸŒ UF</label>
        <input
          type="text"
          id="uf"
          class="form-control"
          [(ngModel)]="pessoa.uf"
          name="uf"
          maxlength="2"
          placeholder="UF"
          #ufInput="ngModel"
          required
          (input)="pessoa.uf = pessoa.uf?.toUpperCase()">

        <div *ngIf="ufInput.invalid && ufInput.touched" class="error-message">
          Maximo 2 letras, EX: "SP"
        </div>
      </div>
    </div>

    <button type="submit" class="btn-salvar">ğŸ’¾ Salvar</button>
  </form>
</div>
